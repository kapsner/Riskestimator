<ion-header>
  <ion-toolbar>
    <ion-title>Test</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-buttons>
      <ion-back-button
        defaultHref=""
        icon="arrow-back"
        color="primary"
      ></ion-back-button>
    </ion-buttons>

    <div *ngIf="tasknumber === 1">
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
      <ion-button (click)="savetoStorage()">SavetoStorage</ion-button>
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 1</b></p>
          <p>
            Sie haben einen Patienten vor sich bei dem Sie aufgrund seiner
            Symptome eine Lungenembolie vermuten. Um ihren Verdacht zu erhärten
            machen sie einen D-Dimer Test. Sie wissen, dass 10 von 500 Personen
            mit den Symptomen ihres Patienten eine Lungenembolie haben. Ihr
            D-Dimer Test hat bei 9 Erkrankten ein positives Testergebnis.
            Allerdings haben auch 180 von 490 nicht-Erkrankten ein positives
            Testergebnis. Wie hoch ist die Wahrscheinlichkeit, dass ihr Patient
            mit einem positiven Testergebnis auch tatsächlich eine Lungenembolie
            hat? Wählen sie <b>eine</b> Antwortmöglichkeit aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="trueposn"
              (ionChange)="trueposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falsenegn"
              (ionChange)="falsenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falseposn"
              (ionChange)="falseposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="truenegn"
              (ionChange)="truenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col> </ion-col>
        <ion-col>
          Diagnose positiv
        </ion-col>
        <ion-col>
          Diagnose negativ
        </ion-col>
        <ion-col>
          Total
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label>Test positiv</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ trueposn }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ falseposn }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totaltestposn }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3">
          <ion-item>
            <ion-label>Test negativ</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ falsenegn }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ truenegn }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ totaltestnegn }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col> </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totalilln }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totalwelln }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totaln }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposn }}/{{ totaltestposn }} = {{ ppvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ trueposn }}/{{ totalilln }} = {{ sensn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegn }}/{{ totaltestnegn }} = {{ npvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ truenegn }}/{{ totalwelln }} {{ specn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegn }}/{{ totaltestnegn }} = {{ fnrn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ totalilln }}/{{ totaln }} = {{ prevn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposn }}/{{ totaltestnegn }} = {{ fprn }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>4</ion-label>
              <ion-radio value="4r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>99</ion-label>
              <ion-radio value="99f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>1</ion-label>
              <ion-radio value="1f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>96</ion-label>
              <ion-radio value="96f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>90</ion-label>
              <ion-radio value="90f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
    </div>

    <ion-button (click)="getBackTask()">Zurück</ion-button>
    <ion-button (click)="getNextTask()">Weiter</ion-button>
    <ion-button (click)="savetoStorage()">SavetoStorage</ion-button>

    <div *ngIf="tasknumber === 2">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 2</b></p>
          <p>
            Sie haben einen Patienten vor sich bei dem Sie aufgrund seiner
            Symptome eine Lungenembolie vermuten. Um ihren Verdacht zu erhärten
            machen sie einen D-Dimer Test. Sie wissen, dass 2% der Bevölkerung
            mit den Symptomen ihres Patienten eine Lungenembolie haben. Ihr
            D-Dimer Test hat bei Erkrankten zu 100% ein positives Testergebnis.
            Allerdings haben auch 37% aller nicht Erkrankten ein positives
            Testergebnis. Wie hoch ist die Wahrscheinlichkeit, dass ihr Patient
            mit einem positiven Testergebnis auch tatsächlich eine Lungenembolie
            hat? Wählen sie <b>eine</b> Antwortmöglichkeit aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Prävalenz</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="prevalence"
              (ionChange)="prevalencechange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="prevalence"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Sensitivität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="sensitivity"
              (ionChange)="sensitivitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="sensitivity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Spezifität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="specifity"
              (ionChange)="specifitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="specifity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col> </ion-col>
        <ion-col>
          Diagnose positiv
        </ion-col>
        <ion-col>
          Diagnose negativ
        </ion-col>
        <ion-col>
          Total
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label>Test positiv</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ trueposr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ falseposr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totaltestposr }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="3">
          <ion-item>
            <ion-label>Test negativ</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ falsenegr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ truenegr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col size="3">
          <ion-item>
            <ion-label>{{ totaltestnegr }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col> </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totalillr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totalwellr }}</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label>{{ totalr }}</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totaltestposr }} = {{ ppvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totalillr }} = {{ sensitivity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totaltestnegr }} = {{ npvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totalwellr }} = {{ specifity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegr }}/{{ totaltestnegr }} = {{ fnrr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ totalillr }}/{{ totalillr }} = {{ prevalence }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposr }}/{{ totaltestposr }} = {{ fprr }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>5</ion-label>
              <ion-radio value="5f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>100</ion-label>
              <ion-radio value="100r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>0</ion-label>
              <ion-radio value="0f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>95</ion-label>
              <ion-radio value="95f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>37</ion-label>
              <ion-radio value="37f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>

      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
      <ion-button (click)="saveToFile()">SaveToFile</ion-button>
      <ion-button (click)="savetoStorage()">SavetoStorage</ion-button>
    </div>

    <div *ngIf="tasknumber === 3">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 3</b></p>
          <p>
            Sie haben einen Patienten untersuchen einen Patienten mit den
            typischen Zeichen einer Cystitis (Harnblasenentzündung). Um ihren
            Verdacht zu erhärten ordnen sie einen U-Stix Test an. Sie wissen,
            dass Patienten mit dieser Symptomatik zu 315 von 500 Personen eine
            Cystits haben. Ihr Test hat bei 265 von 315 erkrankten Patienten ein
            positives Testergebnis. Allerdings hat er auch bei 102 von 185
            nicht-Erkrankten ein positives Testergebnis. Wie hoch ist die
            Wahrscheinlichkeit, dass ihr Patiten bei einem positiven
            Testergebnis tatsächlich eine Cystists hat? Wählen Sie
            <b>eine</b> Antwort aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="trueposn"
              (ionChange)="trueposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falsenegn"
              (ionChange)="falsenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falseposn"
              (ionChange)="falseposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="truenegn"
              (ionChange)="truenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col offset="4.5">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totaln }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
          </svg>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col offset="3">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totalilln }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
          </svg>
        </ion-col>
        <ion-col pull="1.5">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totalwelln }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
          </svg>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col push="1.75">
          <svg>
            <text x="130" y="15" fill="black">{{ trueposn }}</text>
          </svg>
        </ion-col>
        <ion-col push="1.25">
          <svg>
            <text x="130" y="15" fill="black">{{ falsenegn }}</text>
          </svg>
        </ion-col>
        <ion-col pull="1.25">
          <svg>
            <text x="130" y="15" fill="black">{{ falseposn }}</text>
          </svg>
        </ion-col>
        <ion-col pull="1.75">
          <svg>
            <text x="130" y="15" fill="black">{{ truenegn }}</text>
          </svg>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposn }}/{{ totaltestposn }} = {{ ppvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ trueposn }}/{{ totalilln }} = {{ sensn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegn }}/{{ totaltestnegn }} = {{ npvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ truenegn }}/{{ totalwelln }} {{ specn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegn }}/{{ totaltestnegn }} = {{ fnrn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ totalilln }}/{{ totaln }} = {{ prevn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposn }}/{{ totaltestnegn }} = {{ fprn }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>72</ion-label>
              <ion-radio value="72r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>62</ion-label>
              <ion-radio value="62f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>38</ion-label>
              <ion-radio value="8f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>28</ion-label>
              <ion-radio value="28f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>44</ion-label>
              <ion-radio value="44f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 4">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 4</b></p>
          <p>
            Sie haben einen Patienten untersuchen einen Patienten mit den
            typischen Zeichen einer Cystitis (Harnblasenentzündung). Um ihren
            Verdacht zu erhärten ordnen sie einen U-Stix Test an. Sie wissen,
            dass Patienten mit dieser Symptomatik zu 63% eine Cystits haben. Ihr
            Test hat bei einem erkrankten Patienten zu 84% ein positives
            Testergebnis. Allerdings ist er auch bei 55% der nicht-Erkrankten
            positiv. Wie hoch ist die Wahrscheinlichkeit, dass ihr Patiten bei
            einem positiven Testergebnis tatsächlich eine Cystists hat? Wählen
            Sie <b>eine</b> Antwort aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Prävalenz</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="prevalence"
              (ionChange)="prevalencechange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="prevalence"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Sensitivität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="sensitivity"
              (ionChange)="sensitivitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="sensitivity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Spezifität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="specifity"
              (ionChange)="specifitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="specifity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col offset="4.5">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totalr }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
          </svg>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col offset="3">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totalillr }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
          </svg>
        </ion-col>
        <ion-col pull="1.5">
          <svg>
            <line
              x1="100"
              y1="30"
              x2="0"
              y2="150"
              style="stroke:rgb(0,0,0);stroke-width:2"
            />
            <text x="130" y="15" fill="black">{{ totalwellr }}</text>
            <line
              x1="200"
              y1="30"
              x2="300"
              y2="150"
              style="stroke:rgb(0, 0, 0);stroke-width:2"
            />
          </svg>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col push="1.75">
          <svg>
            <text x="130" y="15" fill="black">{{ trueposr }}</text>
          </svg>
        </ion-col>
        <ion-col push="1.25">
          <svg>
            <text x="130" y="15" fill="black">{{ falsenegr }}</text>
          </svg>
        </ion-col>
        <ion-col pull="1.25">
          <svg>
            <text x="130" y="15" fill="black">{{ falseposr }}</text>
          </svg>
        </ion-col>
        <ion-col pull="1.75">
          <svg>
            <text x="130" y="15" fill="black">{{ truenegr }}</text>
          </svg>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totaltestposr }} = {{ ppvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totalillr }} = {{ sensitivity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totaltestnegr }} = {{ npvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totalwellr }} = {{ specifity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegr }}/{{ totaltestnegr }} = {{ fnrr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ totalillr }}/{{ totalillr }} = {{ prevalence }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposr }}/{{ totaltestposr }} = {{ fprr }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>72</ion-label>
              <ion-radio value="72r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>61</ion-label>
              <ion-radio value="61f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>39</ion-label>
              <ion-radio value="39f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>28</ion-label>
              <ion-radio value="28f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>45</ion-label>
              <ion-radio value="45f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 5">
      <ion-row>
        <ion-col>
          <p>
            <b>Aufgabe 5</b>
          </p>
          <p>
            Sie arbeiten auf einer Intensivstation und vermuten eine VAP
            (Ventilations-assoziierte Pneuomie) bei einem ihrer Patieten. Sie
            wissen, dass 240 von 500 Personen eine Pneuomnie haben. Um
            sicherzugehen wollen Sie den CPIS Score verwenden. Aus einer
            Fachzeitschrift wissen Sie, dass ihr Test bei 156 von 240 Erkrankten
            ein positives Testergebnis hat und 166 von 260 nicht-Erkrankten
            richtig erkennt. Wenn Sie ein negativen Score erhalten, wie hoch ist
            die Wahrscheinlichkeit dass Ihr Patient <b>keine</b> VAP hat? Wählen
            Sie <b>eine</b> Antwort aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="trueposn"
              (ionChange)="trueposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falsenegn"
              (ionChange)="falsenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falseposn"
              (ionChange)="falseposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="truenegn"
              (ionChange)="truenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <div>
            <svg>
              <g>
                <rect
                  *ngFor="let rrn of redrectn"
                  width="40"
                  [attr.height]="rrn"
                  style="fill: red;"
                ></rect>
                <rect
                  *ngFor="let brn of bluerectn"
                  width="40"
                  [attr.height]="brn"
                  x="40"
                  style="fill: blue;"
                ></rect>
                <rect
                  *ngFor="let yrn of yellowrectn"
                  width="40"
                  [attr.height]="yrn"
                  x="80"
                  style="fill: orange;"
                ></rect>
                <rect
                  *ngFor="let grn of greenrectn"
                  width="40"
                  [attr.height]="grn"
                  x="120"
                  style="fill: green;"
                ></rect>
              </g>
            </svg>
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label>
            <span class="spanr">Rot = {{ trueposn }}</span>,
            <span class="spanb">Blau = {{ falsenegn }}</span>,
            <span class="spano">Orange = {{ falseposn }}</span>,
            <span class="spang">Grün = {{ truenegn }}</span>, Total = {{ totaln
            }}
          </ion-label>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposn }}/{{ totaltestposn }} = {{ ppvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ trueposn }}/{{ totalilln }} = {{ sensn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegn }}/{{ totaltestnegn }} = {{ npvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ truenegn }}/{{ totalwelln }} = {{ specn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegn }}/{{ totaltestnegn }} = {{ fnrn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ totalilln }}/{{ totaln }} = {{ prevn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposn }}/{{ totaltestposn }} = {{ fprn }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>62</ion-label>
              <ion-radio value="62f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>66</ion-label>
              <ion-radio value="66r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>34</ion-label>
              <ion-radio value="34f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>38</ion-label>
              <ion-radio value="38f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>65</ion-label>
              <ion-radio value="65f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 6">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 6</b></p>
          <p>
            Sie arbeiten auf einer Intensivstation und vermuten eine VAP
            (Ventilations-assoziierte Pneuomie) bei einem ihrer Patieten. Sie
            wissen, dass die Prävalenz der Pneuomie 48% beträgt. Um
            sicherzugehen wollen Sie den CPIS Score verwenden. Aus einer
            Fachzeitschrift wissen Sie, dass die Sensitivität 65% und die
            Spezifität 64% betragen. Wenn Sie ein negativen Score erhalten, wie
            hoch ist die Wahrscheinlichkeit dass Ihr Patient <b>keine</b> VAP
            hat? Wählen Sie <b>eine</b> Antwort aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Prävalenz</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="prevalence"
              (ionChange)="prevalencechange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="prevalence"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Sensitivität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="sensitivity"
              (ionChange)="sensitivitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="sensitivity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Spezifität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="specifity"
              (ionChange)="specifitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="specifity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <div>
            <svg>
              <g>
                <rect
                  *ngFor="let rrr of redrectr"
                  width="40"
                  [attr.height]="rrr"
                  style="fill: red;"
                ></rect>
                <rect
                  *ngFor="let brr of bluerectr"
                  width="40"
                  [attr.height]="brr"
                  x="40"
                  style="fill: blue;"
                ></rect>
                <rect
                  *ngFor="let yrr of yellowrectr"
                  width="40"
                  [attr.height]="yrr"
                  x="80"
                  style="fill: orange;"
                ></rect>
                <rect
                  *ngFor="let grr of greenrectr"
                  width="40"
                  [attr.height]="grr"
                  x="120"
                  style="fill: green;"
                ></rect>
              </g>
            </svg>
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label>
            <span class="spanr">Rot = {{ trueposr }}</span>,
            <span class="spanb">Blau = {{ falsenegr }}</span>,
            <span class="spano">Orange = {{ falseposr }}</span>,
            <span class="spang">Grün = {{ truenegr }}</span>, Total = {{ totalr
            }}
          </ion-label>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totaltestposr }} = {{ ppvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totalillr }} = {{ sensitivity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totaltestnegr }} = {{ npvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totalwellr }} = {{ specifity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegr }}/{{ totaltestnegr }} = {{ fnrr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ totalillr }}/{{ totalillr }} = {{ prevalence }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposr }}/{{ totaltestposr }} = {{ fprr }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>62</ion-label>
              <ion-radio value="62f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>66</ion-label>
              <ion-radio value="66r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>34</ion-label>
              <ion-radio value="34f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>38</ion-label>
              <ion-radio value="38f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>36</ion-label>
              <ion-radio value="36f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 7">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 7</b></p>
          <p>
            Eine Maserninfektion während der frühen Schwangerschaftsphase können
            einen schweren pränatalen Schaden im Fötus verursachen. Deshalb
            werden schwangere Frauen routinemäßig auf eine Maserninfektion
            untersucht. In einem Test wird festgestellt, dass eine Frau
            infiziert ist. Um die beste Entscheidungshilfe geben zu können
            möchte der zuständige Arzt erst festellen mit welcher
            Wahrscheinlichkeit ein Kind einen schweren pränatalen Schaden hat,
            wenn die Mutter während der frühen Schwangerschaftsphase eine
            Maserninfektion hatte. Der Arzt hat die folgenden Informationen: Die
            Wahrscheinlichkeit von schwerem pränatalen Kindsschaden beträgt
            5/500. Die Wahrscheinlichkeit, wenn die Mutter keine Maserninfektion
            hatte, dass das Kind einen schweren pränatalen Schaden hat beträgt
            2/5. Die Wahrscheinlichkeit, wenn die Mutter eine Maserninfektion
            hatte, dass das Kind keinen schweren pränatalen Schaden hat beträgt
            4/495. Wie hoch ist die Wahrscheinlichkeit, dass das Kind keinen
            schweren pränatalen Schaden hat, wenn die Mutter <b>keine</b>
            Maserninfektion in der frühen Schwangerschaftsphase hatte? Wählen
            Sie
            <b>eine</b> Antwortmöglichkeit aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="trueposn"
              (ionChange)="trueposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Krank & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falsenegn"
              (ionChange)="falsenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testpositive Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="falseposn"
              (ionChange)="falseposchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
        
        <ion-col>
          <ion-item>
            <ion-label position="floating"
              >Gesund & Testnegative Personen</ion-label
            >
            <ion-input
              type="number"
              [(ngModel)]="truenegn"
              (ionChange)="truenegchange($event)"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <div>
            <img
              *ngFor="let img of rediconn"
              width="20"
              height="40"
              src="{{ rediconn[0] }}"
            />
            <img
              *ngFor="let img of blueiconn"
              width="20"
              height="40"
              src="{{ blueiconn[0] }}"
            />
            <img
              *ngFor="let img of yellowiconn"
              width="20"
              height="40"
              src="{{ yellowiconn[0] }}"
            />
            <img
              *ngFor="let img of greeniconn"
              width="20"
              height="40"
              src="{{ greeniconn[0] }}"
            />
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label>
            <span class="spanr">Rot = {{ trueposn }}</span>,
            <span class="spanb">Blau = {{ falsenegn }}</span>,
            <span class="spano">Orange = {{ falseposn }}</span>,
            <span class="spang">Grün = {{ truenegn }}</span>, Total = {{ totaln
            }}
          </ion-label>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposn }}/{{ totaltestposn }} = {{ ppvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ trueposn }}/{{ totalilln }} = {{ sensn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegn }}/{{ totaltestnegn }} = {{ npvn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ truenegn }}/{{ totalwelln }} = {{ specn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegn }}/{{ totaltestnegn }} = {{ fnrn }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label>{{ totalilln }}/{{ totaln }} = {{ prevn }}%</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposn }}/{{ totaltestposn }} = {{ fprn }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>0</ion-label>
              <ion-radio value="0f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>66</ion-label>
              <ion-radio value="66r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>34</ion-label>
              <ion-radio value="34f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>100</ion-label>
              <ion-radio value="100f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>40</ion-label>
              <ion-radio value="40f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 8">
      <ion-row>
        <ion-col>
          <p><b>Aufgabe 8</b></p>
          <p>
            Eine Maserninfektion während der frühen Schwangerschaftsphase können
            einen schweren pränatalen Schaden im Fötus verursachen. Deshalb
            werden schwangere Frauen routinemäßig auf eine Maserninfektion
            untersucht. In einem Test wird festgestellt, dass eine Frau
            infiziert ist. Um die beste Entscheidungshilfe geben zu können
            möchte der zuständige Arzt erst festellen mit welcher
            Wahrscheinlichkeit ein Kind einen schweren pränatalen Schaden hat,
            wenn die Mutter während der frühen Schwangerschaftsphase eine
            Maserninfektion hatte. Der Arzt hat die folgenden Informationen: Die
            Wahrscheinlichkeit von schwerem pränatalen Kindsschaden beträgt 1%.
            Die Wahrscheinlichkeit, wenn die Mutter keine Maserninfektion hatte,
            dass das Kind einen schweren pränatalen Schaden hat beträgt 40%. Die
            Wahrscheinlichkeit, wenn die Mutter eine Maserninfektion hatte, dass
            das Kind keinen schweren pränatalen Schaden hat beträgt 99%. Wie
            hoch ist die Wahrscheinlichkeit, dass das Kind keinen schweren
            pränatalen Schaden hat, wenn die Mutter <b>keine</b> Maserninfektion
            in der frühen Schwangerschaftsphase hatte? Wählen Sie
            <b>eine</b> Antwortmöglichkeit aus!
          </p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Prävalenz</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="prevalence"
              (ionChange)="prevalencechange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="prevalence"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Sensitivität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="sensitivity"
              (ionChange)="sensitivitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="sensitivity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label position="floating">Spezifität</ion-label>
            <ion-input
              type="number"
              [(ngModel)]="specifity"
              (ionChange)="specifitychange($event)"
            ></ion-input>
            <ion-range
              [(ngModel)]="specifity"
              max="100"
              min="0"
              step="1"
              pin="true"
            ></ion-range>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <div>
            <img
              *ngFor="let img of rediconr"
              width="20"
              height="40"
              src="{{ rediconr[0] }}"
            />
            <img
              *ngFor="let img of blueiconr"
              width="20"
              height="40"
              src="{{ blueiconr[0] }}"
            />
            <img
              *ngFor="let img of yellowiconr"
              width="20"
              height="40"
              src="{{ yellowiconr[0] }}"
            />
            <img
              *ngFor="let img of greeniconr"
              width="20"
              height="40"
              src="{{ greeniconr[0] }}"
            />
          </div>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label>
            <span class="spanr">Rot = {{ trueposr }}</span>,
            <span class="spanb">Blau = {{ falsenegr }}</span>,
            <span class="spano">Orange = {{ falseposr }}</span>,
            <span class="spang">Grün = {{ truenegr }}</span>, Total = {{ totalr
            }}
          </ion-label>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totaltestposr }} = {{ ppvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ trueposr }}/{{ totalillr }} = {{ sensitivity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totaltestnegr }} = {{ npvr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ truenegr }}/{{ totalwellr }} = {{ specifity }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falsenegr }}/{{ totaltestnegr }} = {{ fnrr }}%</ion-label
          >
        </ion-col>
        <ion-col>
          <ion-label
            >{{ totalillr }}/{{ totalillr }} = {{ prevalence }}%</ion-label
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label
            >{{ falseposr }}/{{ totaltestposr }} = {{ fprr }}%</ion-label
          >
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-radio-group (ionChange)="Frage($event)">
            <ion-item>
              <ion-label>0</ion-label>
              <ion-radio value="0f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>66</ion-label>
              <ion-radio value="66r"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>34</ion-label>
              <ion-radio value="34f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>100</ion-label>
              <ion-radio value="100f"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>40</ion-label>
              <ion-radio value="40f"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-col>
      </ion-row>
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="getNextTask()">Weiter</ion-button>
    </div>

    <div *ngIf="tasknumber === 9">
      <ion-button (click)="getBackTask()">Zurück</ion-button>
      <ion-button (click)="saveToFile()">SaveToFile</ion-button>
    </div>

  </ion-grid>
</ion-content>
